<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Kitchen Sink AI Model Testing Interface</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- jQuery UI for autocomplete -->
    <link href="https://code.jquery.com/ui/1.13.2/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
    
    <style>
        .inference-category {
            transition: all 0.3s ease;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .inference-category:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .model-autocomplete {
            position: relative;
        }
        .confidence-bar {
            height: 10px;
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        .result-container {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            background-color: #f8f9fa;
        }
        .embedding-visualization {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        .embedding-value {
            background: linear-gradient(45deg, #007bff, #6c757d);
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.8em;
        }
        .tab-content {
            padding: 20px;
            border: 1px solid #dee2e6;
            border-top: none;
            border-radius: 0 0 10px 10px;
        }
        .nav-tabs .nav-link {
            border-radius: 10px 10px 0 0;
            margin-right: 5px;
        }
        .stats-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 20px;
        }
        .tool-button {
            margin: 5px;
            border-radius: 20px;
            transition: all 0.3s ease;
        }
        .tool-button:hover {
            transform: scale(1.05);
        }
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1050;
            min-width: 300px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <i class="fas fa-brain"></i> Comprehensive AI Testing
            </a>
            <div class="navbar-nav ms-auto">
                <span class="navbar-text">
                    <i class="fas fa-robot"></i> 25+ Inference Tools | 14+ Categories | 211+ Model Types
                </span>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-3">
        <!-- Status Alert -->
        <div id="status-alert" class="alert alert-info alert-dismissible fade show" role="alert">
            <i class="fas fa-info-circle"></i>
            <span id="status-message">Loading comprehensive AI components...</span>
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>

        <!-- Statistics Overview -->
        <div class="row mb-4">
            <div class="col-md-12">
                <div class="stats-card">
                    <div class="row">
                        <div class="col-md-3 text-center">
                            <h3 id="total-models">0</h3>
                            <p>Total Models</p>
                        </div>
                        <div class="col-md-3 text-center">
                            <h3 id="inference-categories">14</h3>
                            <p>Inference Categories</p>
                        </div>
                        <div class="col-md-3 text-center">
                            <h3 id="available-tools">25</h3>
                            <p>Available Tools</p>
                        </div>
                        <div class="col-md-3 text-center">
                            <h3 id="model-types">211</h3>
                            <p>Supported Model Types</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Tab Interface -->
        <ul class="nav nav-tabs" id="mainTabs" role="tablist">
            <!-- Text Processing -->
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="text-tab" data-bs-toggle="tab" data-bs-target="#text-processing" type="button" role="tab">
                    <i class="fas fa-font text-primary"></i> Text Processing
                </button>
            </li>
            
            <!-- Audio Processing -->
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="audio-tab" data-bs-toggle="tab" data-bs-target="#audio-processing" type="button" role="tab">
                    <i class="fas fa-microphone text-success"></i> Audio Processing
                </button>
            </li>
            
            <!-- Vision Processing -->
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="vision-tab" data-bs-toggle="tab" data-bs-target="#vision-processing" type="button" role="tab">
                    <i class="fas fa-eye text-warning"></i> Vision Processing
                </button>
            </li>
            
            <!-- Multimodal Processing -->
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="multimodal-tab" data-bs-toggle="tab" data-bs-target="#multimodal-processing" type="button" role="tab">
                    <i class="fas fa-layer-group text-info"></i> Multimodal
                </button>
            </li>
            
            <!-- Specialized Processing -->
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="specialized-tab" data-bs-toggle="tab" data-bs-target="#specialized-processing" type="button" role="tab">
                    <i class="fas fa-tools text-secondary"></i> Specialized
                </button>
            </li>
            
            <!-- Model Management -->
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="models-tab" data-bs-toggle="tab" data-bs-target="#model-management" type="button" role="tab">
                    <i class="fas fa-database text-dark"></i> Models
                </button>
            </li>
            
            <!-- HuggingFace Browser -->
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="hf-tab" data-bs-toggle="tab" data-bs-target="#huggingface-browser" type="button" role="tab">
                    <i class="fas fa-globe text-danger"></i> HF Browser
                </button>
            </li>
        </ul>

        <div class="tab-content" id="mainTabContent">
            <!-- Text Processing Tab -->
            <div class="tab-pane fade show active" id="text-processing" role="tabpanel">
                <div class="row">
                    <div class="col-md-6">
                        <h5><i class="fas fa-font text-primary"></i> Text Processing Tools</h5>
                        <div class="mb-3">
                            <button class="btn btn-primary tool-button" onclick="showTool('text-generation')">
                                <i class="fas fa-pen"></i> Text Generation
                            </button>
                            <button class="btn btn-outline-primary tool-button" onclick="showTool('text-classification')">
                                <i class="fas fa-tags"></i> Classification
                            </button>
                            <button class="btn btn-outline-primary tool-button" onclick="showTool('text-embeddings')">
                                <i class="fas fa-vector-square"></i> Embeddings
                            </button>
                            <button class="btn btn-outline-primary tool-button" onclick="showTool('text-translation')">
                                <i class="fas fa-language"></i> Translation
                            </button>
                            <button class="btn btn-outline-primary tool-button" onclick="showTool('text-summarization')">
                                <i class="fas fa-compress"></i> Summarization
                            </button>
                            <button class="btn btn-outline-primary tool-button" onclick="showTool('question-answering')">
                                <i class="fas fa-question-circle"></i> Q&A
                            </button>
                            <button class="btn btn-outline-primary tool-button" onclick="showTool('mask-filling')">
                                <i class="fas fa-fill"></i> Fill Mask
                            </button>
                        </div>
                        
                        <!-- Text Generation Tool -->
                        <div id="text-generation" class="tool-interface">
                            <div class="card">
                                <div class="card-header">
                                    <h6><i class="fas fa-pen"></i> Text Generation (Causal LM)</h6>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="text-prompt" class="form-label">Text Prompt</label>
                                        <textarea class="form-control" id="text-prompt" rows="3" 
                                                placeholder="Enter your text prompt...">The future of artificial intelligence is</textarea>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="text-model" class="form-label">Model (optional)</label>
                                            <input type="text" class="form-control model-autocomplete" id="text-model" 
                                                   placeholder="Auto-select best model...">
                                        </div>
                                        <div class="col-md-3">
                                            <label for="text-max-length" class="form-label">Max Length</label>
                                            <input type="number" class="form-control" id="text-max-length" value="100">
                                        </div>
                                        <div class="col-md-3">
                                            <label for="text-temperature" class="form-label">Temperature</label>
                                            <input type="number" class="form-control" id="text-temperature" value="0.7" step="0.1">
                                        </div>
                                    </div>
                                    <button class="btn btn-primary mt-3" onclick="generateText()">
                                        <i class="fas fa-play"></i> Generate Text
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Text Classification Tool -->
                        <div id="text-classification" class="tool-interface" style="display: none;">
                            <div class="card">
                                <div class="card-header">
                                    <h6><i class="fas fa-tags"></i> Text Classification</h6>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="classify-text" class="form-label">Text to Classify</label>
                                        <textarea class="form-control" id="classify-text" rows="3" 
                                                placeholder="Enter text to classify...">This movie is absolutely amazing!</textarea>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            <label for="classify-model" class="form-label">Model (optional)</label>
                                            <input type="text" class="form-control model-autocomplete" id="classify-model" 
                                                   placeholder="Auto-select best model...">
                                        </div>
                                        <div class="col-md-4">
                                            <label class="form-label">&nbsp;</label>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="return-all-scores">
                                                <label class="form-check-label" for="return-all-scores">
                                                    Show all scores
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary mt-3" onclick="classifyText()">
                                        <i class="fas fa-play"></i> Classify Text
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Add more text processing tools... -->
                        
                    </div>
                    <div class="col-md-6">
                        <h5><i class="fas fa-chart-bar"></i> Results</h5>
                        <div class="result-container" id="text-results">
                            <p class="text-muted">Results will appear here...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Audio Processing Tab -->
            <div class="tab-pane fade" id="audio-processing" role="tabpanel">
                <div class="row">
                    <div class="col-md-6">
                        <h5><i class="fas fa-microphone text-success"></i> Audio Processing Tools</h5>
                        <div class="mb-3">
                            <button class="btn btn-success tool-button" onclick="showTool('audio-transcription')">
                                <i class="fas fa-microphone"></i> Transcription
                            </button>
                            <button class="btn btn-outline-success tool-button" onclick="showTool('audio-classification')">
                                <i class="fas fa-headphones"></i> Classification
                            </button>
                            <button class="btn btn-outline-success tool-button" onclick="showTool('speech-synthesis')">
                                <i class="fas fa-volume-up"></i> Speech Synthesis
                            </button>
                            <button class="btn btn-outline-success tool-button" onclick="showTool('audio-generation')">
                                <i class="fas fa-music"></i> Audio Generation
                            </button>
                        </div>
                        
                        <!-- Audio Transcription Tool -->
                        <div id="audio-transcription" class="tool-interface">
                            <div class="card">
                                <div class="card-header">
                                    <h6><i class="fas fa-microphone"></i> Audio Transcription</h6>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="audio-file" class="form-label">Audio File</label>
                                        <input type="file" class="form-control" id="audio-file" accept="audio/*">
                                        <small class="form-text text-muted">Or use demo audio data</small>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="transcribe-model" class="form-label">Model (optional)</label>
                                            <input type="text" class="form-control model-autocomplete" id="transcribe-model" 
                                                   placeholder="Auto-select best model...">
                                        </div>
                                        <div class="col-md-3">
                                            <label for="audio-language" class="form-label">Language</label>
                                            <select class="form-control" id="audio-language">
                                                <option value="">Auto-detect</option>
                                                <option value="en">English</option>
                                                <option value="es">Spanish</option>
                                                <option value="fr">French</option>
                                                <option value="de">German</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="audio-task" class="form-label">Task</label>
                                            <select class="form-control" id="audio-task">
                                                <option value="transcribe">Transcribe</option>
                                                <option value="translate">Translate</option>
                                            </select>
                                        </div>
                                    </div>
                                    <button class="btn btn-success mt-3" onclick="transcribeAudio()">
                                        <i class="fas fa-play"></i> Transcribe Audio
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h5><i class="fas fa-chart-bar"></i> Results</h5>
                        <div class="result-container" id="audio-results">
                            <p class="text-muted">Results will appear here...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vision Processing Tab -->
            <div class="tab-pane fade" id="vision-processing" role="tabpanel">
                <div class="row">
                    <div class="col-md-6">
                        <h5><i class="fas fa-eye text-warning"></i> Vision Processing Tools</h5>
                        <div class="mb-3">
                            <button class="btn btn-warning tool-button" onclick="showTool('image-classification')">
                                <i class="fas fa-image"></i> Classification
                            </button>
                            <button class="btn btn-outline-warning tool-button" onclick="showTool('object-detection')">
                                <i class="fas fa-search"></i> Object Detection
                            </button>
                            <button class="btn btn-outline-warning tool-button" onclick="showTool('image-segmentation')">
                                <i class="fas fa-puzzle-piece"></i> Segmentation
                            </button>
                            <button class="btn btn-outline-warning tool-button" onclick="showTool('image-generation')">
                                <i class="fas fa-paint-brush"></i> Generation
                            </button>
                        </div>
                        
                        <!-- Image Classification Tool -->
                        <div id="image-classification" class="tool-interface">
                            <div class="card">
                                <div class="card-header">
                                    <h6><i class="fas fa-image"></i> Image Classification</h6>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="image-file" class="form-label">Image File</label>
                                        <input type="file" class="form-control" id="image-file" accept="image/*">
                                        <small class="form-text text-muted">Or use demo image data</small>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            <label for="vision-model" class="form-label">Model (optional)</label>
                                            <input type="text" class="form-control model-autocomplete" id="vision-model" 
                                                   placeholder="Auto-select best model...">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="image-top-k" class="form-label">Top K</label>
                                            <input type="number" class="form-control" id="image-top-k" value="5">
                                        </div>
                                    </div>
                                    <button class="btn btn-warning mt-3" onclick="classifyImage()">
                                        <i class="fas fa-play"></i> Classify Image
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h5><i class="fas fa-chart-bar"></i> Results</h5>
                        <div class="result-container" id="vision-results">
                            <p class="text-muted">Results will appear here...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Multimodal Processing Tab -->
            <div class="tab-pane fade" id="multimodal-processing" role="tabpanel">
                <div class="row">
                    <div class="col-md-6">
                        <h5><i class="fas fa-layer-group text-info"></i> Multimodal Processing Tools</h5>
                        <div class="mb-3">
                            <button class="btn btn-info tool-button" onclick="showTool('image-captioning')">
                                <i class="fas fa-comment"></i> Image Captioning
                            </button>
                            <button class="btn btn-outline-info tool-button" onclick="showTool('visual-qa')">
                                <i class="fas fa-question"></i> Visual Q&A
                            </button>
                            <button class="btn btn-outline-info tool-button" onclick="showTool('document-processing')">
                                <i class="fas fa-file-alt"></i> Document Processing
                            </button>
                        </div>
                        
                        <!-- Image Captioning Tool -->
                        <div id="image-captioning" class="tool-interface">
                            <div class="card">
                                <div class="card-header">
                                    <h6><i class="fas fa-comment"></i> Image Captioning</h6>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="caption-image" class="form-label">Image File</label>
                                        <input type="file" class="form-control" id="caption-image" accept="image/*">
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            <label for="caption-model" class="form-label">Model (optional)</label>
                                            <input type="text" class="form-control model-autocomplete" id="caption-model" 
                                                   placeholder="Auto-select best model...">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="caption-max-length" class="form-label">Max Length</label>
                                            <input type="number" class="form-control" id="caption-max-length" value="50">
                                        </div>
                                    </div>
                                    <button class="btn btn-info mt-3" onclick="generateImageCaption()">
                                        <i class="fas fa-play"></i> Generate Caption
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h5><i class="fas fa-chart-bar"></i> Results</h5>
                        <div class="result-container" id="multimodal-results">
                            <p class="text-muted">Results will appear here...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Specialized Processing Tab -->
            <div class="tab-pane fade" id="specialized-processing" role="tabpanel">
                <div class="row">
                    <div class="col-md-6">
                        <h5><i class="fas fa-tools text-secondary"></i> Specialized Processing Tools</h5>
                        <div class="mb-3">
                            <button class="btn btn-secondary tool-button" onclick="showTool('timeseries-prediction')">
                                <i class="fas fa-chart-line"></i> Time Series
                            </button>
                            <button class="btn btn-outline-secondary tool-button" onclick="showTool('code-generation')">
                                <i class="fas fa-code"></i> Code Generation
                            </button>
                            <button class="btn btn-outline-secondary tool-button" onclick="showTool('tabular-processing')">
                                <i class="fas fa-table"></i> Tabular Data
                            </button>
                        </div>
                        
                        <!-- Code Generation Tool -->
                        <div id="code-generation" class="tool-interface">
                            <div class="card">
                                <div class="card-header">
                                    <h6><i class="fas fa-code"></i> Code Generation</h6>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="code-prompt" class="form-label">Code Prompt</label>
                                        <textarea class="form-control" id="code-prompt" rows="3" 
                                                placeholder="Describe the code you want to generate...">Write a function to calculate fibonacci numbers</textarea>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="code-model" class="form-label">Model (optional)</label>
                                            <input type="text" class="form-control model-autocomplete" id="code-model" 
                                                   placeholder="Auto-select best model...">
                                        </div>
                                        <div class="col-md-3">
                                            <label for="code-language" class="form-label">Language</label>
                                            <select class="form-control" id="code-language">
                                                <option value="python">Python</option>
                                                <option value="javascript">JavaScript</option>
                                                <option value="java">Java</option>
                                                <option value="cpp">C++</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="code-max-length" class="form-label">Max Length</label>
                                            <input type="number" class="form-control" id="code-max-length" value="200">
                                        </div>
                                    </div>
                                    <button class="btn btn-secondary mt-3" onclick="generateCode()">
                                        <i class="fas fa-play"></i> Generate Code
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h5><i class="fas fa-chart-bar"></i> Results</h5>
                        <div class="result-container" id="specialized-results">
                            <p class="text-muted">Results will appear here...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Model Management Tab -->
            <div class="tab-pane fade" id="model-management" role="tabpanel">
                <div class="row">
                    <div class="col-md-6">
                        <h5><i class="fas fa-database"></i> Model Management</h5>
                        <div class="mb-3">
                            <button class="btn btn-primary" onclick="loadModelList()">
                                <i class="fas fa-refresh"></i> Refresh Models
                            </button>
                            <button class="btn btn-success" onclick="getModelRecommendation()">
                                <i class="fas fa-magic"></i> Get Recommendation
                            </button>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h6>Model Search & Filter</h6>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <input type="text" class="form-control" id="model-search" 
                                           placeholder="Search models...">
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <select class="form-control" id="model-type-filter">
                                            <option value="">All Types</option>
                                            <option value="language_model">Language Models</option>
                                            <option value="vision_model">Vision Models</option>
                                            <option value="speech_model">Speech Models</option>
                                            <option value="multimodal_model">Multimodal Models</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <select class="form-control" id="architecture-filter">
                                            <option value="">All Architectures</option>
                                            <option value="transformer">Transformer</option>
                                            <option value="bert">BERT</option>
                                            <option value="gpt">GPT</option>
                                            <option value="clip">CLIP</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h5><i class="fas fa-list"></i> Available Models</h5>
                        <div class="result-container" id="model-list">
                            <p class="text-muted">Loading models...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- HuggingFace Browser Tab -->
            <div class="tab-pane fade" id="huggingface-browser" role="tabpanel">
                <div class="row">
                    <div class="col-md-6">
                        <h5><i class="fas fa-globe text-danger"></i> HuggingFace Model Browser</h5>
                        <div class="card">
                            <div class="card-header">
                                <h6>Search HuggingFace Hub</h6>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <input type="text" class="form-control" id="hf-search-query" 
                                           placeholder="Search models on HuggingFace...">
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <select class="form-control" id="hf-task-filter">
                                            <option value="">All Tasks</option>
                                            <option value="text-generation">Text Generation</option>
                                            <option value="text-classification">Text Classification</option>
                                            <option value="image-classification">Image Classification</option>
                                            <option value="automatic-speech-recognition">Speech Recognition</option>
                                            <option value="text-to-speech">Text to Speech</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <select class="form-control" id="hf-sort-by">
                                            <option value="downloads">Downloads</option>
                                            <option value="likes">Likes</option>
                                            <option value="updated">Recently Updated</option>
                                            <option value="created">Recently Created</option>
                                        </select>
                                    </div>
                                </div>
                                <button class="btn btn-danger mt-3" onclick="searchHuggingFace()">
                                    <i class="fas fa-search"></i> Search Models
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h5><i class="fas fa-search"></i> Search Results</h5>
                        <div class="result-container" id="hf-results">
                            <p class="text-muted">Search results will appear here...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Template -->
    <div id="notification-template" class="notification alert" style="display: none;">
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        <div class="notification-content"></div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Global variables
        let currentModels = [];
        let currentStats = {};

        // Initialize the application
        $(document).ready(function() {
            initializeApp();
            setupAutocomplete();
            loadInitialData();
        });

        function initializeApp() {
            console.log('Initializing Comprehensive Kitchen Sink App...');
            showNotification('Loading comprehensive AI components...', 'info');
        }

        function setupAutocomplete() {
            // Setup model autocomplete for all model input fields
            $('.model-autocomplete').autocomplete({
                source: function(request, response) {
                    $.ajax({
                        url: '/api/models/search',
                        data: {
                            q: request.term,
                            limit: 10
                        },
                        success: function(data) {
                            response(data.models.map(model => ({
                                label: model.model_name + ' (' + model.model_id + ')',
                                value: model.model_id,
                                description: model.description
                            })));
                        }
                    });
                },
                minLength: 2,
                select: function(event, ui) {
                    $(this).val(ui.item.value);
                    showNotification('Selected model: ' + ui.item.label, 'success');
                    return false;
                }
            });
        }

        function loadInitialData() {
            // Load statistics
            $.get('/api/stats', function(data) {
                if (data.total_models) {
                    $('#total-models').text(data.total_models);
                }
                if (data.inference_categories) {
                    $('#inference-categories').text(data.inference_categories);
                }
                if (data.available_tools) {
                    $('#available-tools').text(data.available_tools);
                }
                currentStats = data;
                showNotification('Statistics loaded successfully', 'success');
            }).fail(function() {
                showNotification('Failed to load statistics', 'warning');
            });

            // Load model list
            loadModelList();
        }

        function loadModelList() {
            $.get('/api/models', function(data) {
                currentModels = data.models;
                $('#total-models').text(currentModels.length);
                displayModelList(currentModels);
                showNotification(`Loaded ${currentModels.length} models`, 'success');
            }).fail(function() {
                showNotification('Failed to load models', 'error');
                $('#model-list').html('<p class="text-danger">Failed to load models</p>');
            });
        }

        function displayModelList(models) {
            let html = '';
            models.forEach(model => {
                html += `
                    <div class="card mb-2">
                        <div class="card-body">
                            <h6 class="card-title">${model.model_name}</h6>
                            <p class="card-text">
                                <small class="text-muted">
                                    ${model.model_id} | ${model.architecture} | ${model.model_type}
                                </small><br>
                                ${model.description}
                            </p>
                            <div class="mt-2">
                                ${model.tags.map(tag => `<span class="badge bg-secondary me-1">${tag}</span>`).join('')}
                            </div>
                        </div>
                    </div>
                `;
            });
            $('#model-list').html(html);
        }

        function showTool(toolId) {
            // Hide all tool interfaces
            $('.tool-interface').hide();
            // Show selected tool
            $('#' + toolId).show();
            
            // Update button states
            $('.tool-button').removeClass('btn-primary btn-success btn-warning btn-info btn-secondary')
                             .addClass('btn-outline-primary');
            $(`button[onclick="showTool('${toolId}')"]`).removeClass('btn-outline-primary')
                                                        .addClass('btn-primary');
        }

        // Text Processing Functions
        function generateText() {
            const data = {
                prompt: $('#text-prompt').val(),
                model_id: $('#text-model').val(),
                max_length: parseInt($('#text-max-length').val()),
                temperature: parseFloat($('#text-temperature').val()),
                hardware: 'cpu'
            };

            showLoading('#text-results');
            
            $.ajax({
                url: '/api/inference/text/generate',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(data),
                success: function(result) {
                    displayTextResults(result);
                    showNotification('Text generation completed', 'success');
                },
                error: function() {
                    $('#text-results').html('<p class="text-danger">Text generation failed</p>');
                    showNotification('Text generation failed', 'error');
                }
            });
        }

        function classifyText() {
            const data = {
                text: $('#classify-text').val(),
                model_id: $('#classify-model').val(),
                return_all_scores: $('#return-all-scores').is(':checked'),
                hardware: 'cpu'
            };

            showLoading('#text-results');
            
            $.ajax({
                url: '/api/inference/text/classify',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(data),
                success: function(result) {
                    displayClassificationResults(result);
                    showNotification('Text classification completed', 'success');
                },
                error: function() {
                    $('#text-results').html('<p class="text-danger">Text classification failed</p>');
                    showNotification('Text classification failed', 'error');
                }
            });
        }

        // Audio Processing Functions
        function transcribeAudio() {
            const data = {
                audio_data: 'demo_audio_data',  // In real implementation, handle file upload
                model_id: $('#transcribe-model').val(),
                language: $('#audio-language').val(),
                task: $('#audio-task').val(),
                hardware: 'cpu'
            };

            showLoading('#audio-results');
            
            $.ajax({
                url: '/api/inference/audio/transcribe',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(data),
                success: function(result) {
                    displayAudioResults(result);
                    showNotification('Audio transcription completed', 'success');
                },
                error: function() {
                    $('#audio-results').html('<p class="text-danger">Audio transcription failed</p>');
                    showNotification('Audio transcription failed', 'error');
                }
            });
        }

        // Vision Processing Functions
        function classifyImage() {
            const data = {
                image_data: 'demo_image_data',  // In real implementation, handle file upload
                model_id: $('#vision-model').val(),
                top_k: parseInt($('#image-top-k').val()),
                hardware: 'cpu'
            };

            showLoading('#vision-results');
            
            $.ajax({
                url: '/api/inference/vision/classify',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(data),
                success: function(result) {
                    displayVisionResults(result);
                    showNotification('Image classification completed', 'success');
                },
                error: function() {
                    $('#vision-results').html('<p class="text-danger">Image classification failed</p>');
                    showNotification('Image classification failed', 'error');
                }
            });
        }

        // Multimodal Processing Functions
        function generateImageCaption() {
            const data = {
                image_data: 'demo_image_data',
                model_id: $('#caption-model').val(),
                max_length: parseInt($('#caption-max-length').val()),
                hardware: 'cpu'
            };

            showLoading('#multimodal-results');
            
            $.ajax({
                url: '/api/inference/multimodal/caption',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(data),
                success: function(result) {
                    displayMultimodalResults(result);
                    showNotification('Image captioning completed', 'success');
                },
                error: function() {
                    $('#multimodal-results').html('<p class="text-danger">Image captioning failed</p>');
                    showNotification('Image captioning failed', 'error');
                }
            });
        }

        // Specialized Processing Functions
        function generateCode() {
            const data = {
                prompt: $('#code-prompt').val(),
                model_id: $('#code-model').val(),
                language: $('#code-language').val(),
                max_length: parseInt($('#code-max-length').val()),
                hardware: 'cpu'
            };

            showLoading('#specialized-results');
            
            $.ajax({
                url: '/api/inference/specialized/code',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(data),
                success: function(result) {
                    displaySpecializedResults(result);
                    showNotification('Code generation completed', 'success');
                },
                error: function() {
                    $('#specialized-results').html('<p class="text-danger">Code generation failed</p>');
                    showNotification('Code generation failed', 'error');
                }
            });
        }

        // HuggingFace Functions
        function searchHuggingFace() {
            const data = {
                query: $('#hf-search-query').val(),
                task_filter: $('#hf-task-filter').val(),
                sort_by: $('#hf-sort-by').val(),
                limit: 20
            };

            showLoading('#hf-results');
            
            $.ajax({
                url: '/api/hf/search',
                method: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(data),
                success: function(result) {
                    displayHuggingFaceResults(result);
                    showNotification(`Found ${result.models.length} models`, 'success');
                },
                error: function() {
                    $('#hf-results').html('<p class="text-danger">HuggingFace search failed</p>');
                    showNotification('HuggingFace search failed', 'error');
                }
            });
        }

        // Result Display Functions
        function displayTextResults(result) {
            let html = `
                <div class="card">
                    <div class="card-header">
                        <h6>Text Generation Results</h6>
                    </div>
                    <div class="card-body">
                        <p><strong>Generated Text:</strong></p>
                        <div class="bg-light p-3 rounded">${result.generated_text || result.result}</div>
                        <hr>
                        <small class="text-muted">
                            Model: ${result.model_used} | 
                            Confidence: ${(result.confidence * 100).toFixed(1)}% | 
                            Time: ${result.processing_time?.toFixed(2)}s
                        </small>
                    </div>
                </div>
            `;
            $('#text-results').html(html);
        }

        function displayClassificationResults(result) {
            let html = `
                <div class="card">
                    <div class="card-header">
                        <h6>Classification Results</h6>
                    </div>
                    <div class="card-body">
                        <p><strong>Prediction:</strong> <span class="badge bg-primary">${result.prediction}</span></p>
                        <p><strong>Confidence:</strong> ${(result.confidence * 100).toFixed(1)}%</p>
                        <div class="confidence-bar bg-light rounded" style="height: 10px;">
                            <div class="bg-primary rounded" style="width: ${result.confidence * 100}%; height: 100%;"></div>
                        </div>
            `;
            
            if (result.all_scores) {
                html += '<hr><p><strong>All Scores:</strong></p>';
                Object.entries(result.all_scores).forEach(([label, score]) => {
                    html += `<div class="mb-1">${label}: ${(score * 100).toFixed(1)}%</div>`;
                });
            }
            
            html += `
                        <hr>
                        <small class="text-muted">
                            Model: ${result.model_used} | Time: ${result.processing_time?.toFixed(2)}s
                        </small>
                    </div>
                </div>
            `;
            $('#text-results').html(html);
        }

        function displayAudioResults(result) {
            let html = `
                <div class="card">
                    <div class="card-header">
                        <h6>Audio Processing Results</h6>
                    </div>
                    <div class="card-body">
                        <p><strong>Transcription:</strong></p>
                        <div class="bg-light p-3 rounded">${result.transcription || result.result}</div>
                        <hr>
                        <small class="text-muted">
                            Model: ${result.model_used} | 
                            Language: ${result.language} | 
                            Confidence: ${(result.confidence * 100).toFixed(1)}% | 
                            Time: ${result.processing_time?.toFixed(2)}s
                        </small>
                    </div>
                </div>
            `;
            $('#audio-results').html(html);
        }

        function displayVisionResults(result) {
            let html = `
                <div class="card">
                    <div class="card-header">
                        <h6>Vision Processing Results</h6>
                    </div>
                    <div class="card-body">
                        <p><strong>Predictions:</strong></p>
            `;
            
            if (result.predictions) {
                result.predictions.forEach(pred => {
                    html += `
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <span>${pred.label}</span>
                            <span class="badge bg-primary">${(pred.score * 100).toFixed(1)}%</span>
                        </div>
                        <div class="progress mb-2" style="height: 5px;">
                            <div class="progress-bar" style="width: ${pred.score * 100}%"></div>
                        </div>
                    `;
                });
            }
            
            html += `
                        <hr>
                        <small class="text-muted">
                            Model: ${result.model_used} | 
                            Confidence: ${(result.inference_confidence * 100).toFixed(1)}% | 
                            Time: ${result.processing_time?.toFixed(2)}s
                        </small>
                    </div>
                </div>
            `;
            $('#vision-results').html(html);
        }

        function displayMultimodalResults(result) {
            let html = `
                <div class="card">
                    <div class="card-header">
                        <h6>Multimodal Processing Results</h6>
                    </div>
                    <div class="card-body">
                        <p><strong>Caption:</strong></p>
                        <div class="bg-light p-3 rounded">${result.caption || result.result}</div>
                        <hr>
                        <small class="text-muted">
                            Model: ${result.model_used} | 
                            Confidence: ${(result.confidence * 100).toFixed(1)}% | 
                            Time: ${result.processing_time?.toFixed(2)}s
                        </small>
                    </div>
                </div>
            `;
            $('#multimodal-results').html(html);
        }

        function displaySpecializedResults(result) {
            let html = `
                <div class="card">
                    <div class="card-header">
                        <h6>Specialized Processing Results</h6>
                    </div>
                    <div class="card-body">
                        <p><strong>Generated Code:</strong></p>
                        <pre class="bg-dark text-light p-3 rounded"><code>${result.generated_code || result.result}</code></pre>
                        <hr>
                        <small class="text-muted">
                            Model: ${result.model_used} | 
                            Language: ${result.language} | 
                            Confidence: ${(result.confidence * 100).toFixed(1)}% | 
                            Time: ${result.processing_time?.toFixed(2)}s
                        </small>
                    </div>
                </div>
            `;
            $('#specialized-results').html(html);
        }

        function displayHuggingFaceResults(result) {
            let html = '';
            result.models.forEach(model => {
                html += `
                    <div class="card mb-2">
                        <div class="card-body">
                            <h6 class="card-title">${model.model_name}</h6>
                            <p class="card-text">
                                <small class="text-muted">by ${model.author}</small><br>
                                ${model.description}
                            </p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="badge bg-info">${model.pipeline_tag}</span>
                                    <span class="badge bg-secondary">${model.library_name}</span>
                                </div>
                                <div>
                                    <small class="text-muted">
                                        <i class="fas fa-download"></i> ${model.downloads} | 
                                        <i class="fas fa-heart"></i> ${model.likes}
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            $('#hf-results').html(html);
        }

        // Utility Functions
        function showLoading(selector) {
            $(selector).html(`
                <div class="text-center">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-2">Processing...</p>
                </div>
            `);
        }

        function showNotification(message, type = 'info') {
            const notification = $('#notification-template').clone();
            notification.removeClass('alert-info alert-success alert-warning alert-danger')
                       .addClass(`alert-${type === 'error' ? 'danger' : type}`)
                       .attr('id', 'notification-' + Date.now())
                       .show();
            
            notification.find('.notification-content').html(`
                <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'exclamation' : 'info'}-circle"></i>
                ${message}
            `);
            
            $('body').append(notification);
            
            // Auto-dismiss after 5 seconds
            setTimeout(() => {
                notification.alert('close');
            }, 5000);
        }

        function getModelRecommendation() {
            // This would open a modal or interface for getting model recommendations
            showNotification('Model recommendation feature coming soon!', 'info');
        }
    </script>
</body>
</html>